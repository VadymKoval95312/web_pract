<!doctype html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>JS Tasks</title>
<style>
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;background:#f3f4f6;color:#111827;padding:28px 16px 60px}
.wrap{width:min(980px,100%);margin:0 auto}
h1{margin:0 0 16px;font-size:26px}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.card{background:#fff;border:1px solid #e5e7eb;border-radius:16px;padding:16px}
.card h2{margin:0 0 6px;font-size:16px}
.desc{margin:0 0 12px;color:#6b7280;font-size:13px;line-height:1.4}
.row{display:flex;gap:10px;align-items:center}
input{width:100%;padding:10px 12px;border:1px solid #e5e7eb;border-radius:12px;font-size:14px;outline:0}
button{padding:10px 14px;border:0;border-radius:12px;background:#111827;color:#fff;font-weight:800;cursor:pointer;white-space:nowrap}
.out{margin-top:10px;padding:10px 12px;border-radius:12px;background:#f9fafb;border:1px dashed #e5e7eb;min-height:42px;display:flex;align-items:center;font-weight:700}
.err{margin-top:8px;color:#ef4444;font-size:13px;min-height:16px}
@media (max-width:820px){.grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="wrap">
  <h1>ПРАЙМОВІ КАЛЬКУЛЯТОРИ</h1>
  <div class="grid">
    <section class="card">
      <h2>1) Підрахунок голосних</h2>
      <p class="desc">Голосні: a, e, i, o, u</p>
      <div class="row">
        <input id="vowelsStr" type="text" placeholder="Hello World">
        <button id="vowelsBtn">Рахувати</button>
      </div>
      <div class="err" id="vowelsErr"></div>
      <div class="out" id="vowelsOut"></div>
    </section>
    <section class="card">
      <h2>2) Друге найбільше число</h2>
      <p class="desc">Введи масив чисел через кому</p>
      <div class="row">
        <input id="secondArr" type="text" placeholder="10, 40, 30, 20, 50">
        <button id="secondBtn">Знайти</button>
      </div>
      <div class="err" id="secondErr"></div>
      <div class="out" id="secondOut"></div>
    </section>
    <section class="card">
      <h2>3) Анаграми</h2>
      <p class="desc">Перевірка двох рядків</p>
      <div class="row">
        <input id="ana1" type="text" placeholder="listen">
        <input id="ana2" type="text" placeholder="silent">
        <button id="anaBtn">Перевірити</button>
      </div>
      <div class="err" id="anaErr"></div>
      <div class="out" id="anaOut"></div>
    </section>
    <section class="card">
      <h2>4) Two Sum</h2>
      <p class="desc">Масив + target → індекси</p>
      <div class="row">
        <input id="twoArr" type="text" placeholder="2, 7, 11, 15">
        <input id="twoTarget" type="number" placeholder="9">
        <button id="twoBtn">Знайти</button>
      </div>
      <div class="err" id="twoErr"></div>
      <div class="out" id="twoOut"></div>
    </section>
    <section class="card">
      <h2>5) Паліндром</h2>
      <p class="desc">Ігнорує пробіли та знаки</p>
      <div class="row">
        <input id="palStr" type="text" placeholder="racecar">
        <button id="palBtn">Перевірити</button>
      </div>
      <div class="err" id="palErr"></div>
      <div class="out" id="palOut"></div>
    </section>
    <section class="card">
      <h2>6) Римські числа</h2>
      <p class="desc">Число 1–3999 → римський запис</p>
      <div class="row">
        <input id="romanNum" type="number" placeholder="1994" min="1" max="3999">
        <button id="romanBtn">Перетворити</button>
      </div>
      <div class="err" id="romanErr"></div>
      <div class="out" id="romanOut"></div>
    </section>
  </div>
</div>
<script>
  const $=id=>document.getElementById(id),
        clear=(e,o)=>(e.textContent="",o.textContent=""),
        show=(o,v)=>o.textContent=""+v;
  const countVowels=s=>(s.toLowerCase().match(/[aeiou]/g)||[]).length;
  const secondLargest=a=>{
    let m=-Infinity,s=-Infinity;
    for(const n of a) n>m?(s=m,m=n):n>s&&n<m&&(s=n);
    return s===-Infinity?null:s;
  };
  const isAnagram=(a,b)=>{
    const norm=s=>s.toLowerCase().replace(/[^a-z]/g,"").split("").sort().join("");
    return norm(a)===norm(b);
  };
  const twoSum=(a,t)=>{
    const m=new Map();
    for(let i=0;i<a.length;i++){
      const need=t-a[i];
      if(m.has(need)) return [m.get(need),i];
      m.set(a[i],i);
    }
    return null;
  };
  const isPalindrome=str=>{
    const s=str.toLowerCase().replace(/[^a-z0-9]/g,"");
    for(let l=0,r=s.length-1;l<r;l++,r--) if(s[l]!==s[r]) return false;
    return true;
  };
  const toRoman=n=>{
    const map=[[1000,"M"],[900,"CM"],[500,"D"],[400,"CD"],[100,"C"],[90,"XC"],[50,"L"],[40,"XL"],[10,"X"],[9,"IX"],[5,"V"],[4,"IV"],[1,"I"]];
    let r="";
    for(const [v,s] of map) while(n>=v) r+=s,n-=v;
    return r;
  };
  const parseArr=raw=>{
    const a=raw.split(",").map(x=>Number(x.trim())).filter(x=>!Number.isNaN(x));
    return a.length? a : null;
  };
  $("vowelsBtn").onclick=()=>{
    const e=$("vowelsErr"),o=$("vowelsOut"); clear(e,o);
    show(o, countVowels($("vowelsStr").value));
  };
  $("secondBtn").onclick=()=>{
    const e=$("secondErr"),o=$("secondOut"); clear(e,o);
    const a=parseArr($("secondArr").value);
    if(!a) return e.textContent="введи числа через кому";
    const r=secondLargest(a);
    o.textContent = r==null ? "нема другого найбільшого" : ""+r;
  };
  $("anaBtn").onclick=()=>{
    const e=$("anaErr"),o=$("anaOut"); clear(e,o);
    const a=$("ana1").value.trim(), b=$("ana2").value.trim();
    if(!a||!b) return e.textContent="заповни обидва рядки";
    show(o, isAnagram(a,b));
  };
  $("twoBtn").onclick=()=>{
    const e=$("twoErr"),o=$("twoOut"); clear(e,o);
    const a=parseArr($("twoArr").value), t=Number($("twoTarget").value);
    if(!a) return e.textContent="введи масив чисел через кому";
    if(Number.isNaN(t)) return e.textContent="введи target";
    const r=twoSum(a,t);
    o.textContent = r ? `[${r[0]}, ${r[1]}]` : "пари не знайдено";
  };
  $("palBtn").onclick=()=>{
    const e=$("palErr"),o=$("palOut"); clear(e,o);
    const s=$("palStr").value.trim();
    if(!s) return e.textContent="введи рядок";
    show(o, isPalindrome(s));
  };
  $("romanBtn").onclick=()=>{
    const e=$("romanErr"),o=$("romanOut"); clear(e,o);
    const n=Number($("romanNum").value);
    if(!Number.isInteger(n)||n<1||n>3999) return e.textContent="введи ціле число від 1 до 3999";
    show(o, toRoman(n));
  };
</script>
</body>
</html>